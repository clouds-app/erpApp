{"version":3,"sources":["webpack:///E:/cl_vue/erpApp/components/searchForm/searchForm.vue?125f","webpack:///E:/cl_vue/erpApp/components/searchForm/searchForm.vue?96b6","webpack:///E:/cl_vue/erpApp/components/searchForm/searchForm.vue?82e4","webpack:///E:/cl_vue/erpApp/components/searchForm/searchForm.vue?548c","webpack:///E:/cl_vue/erpApp/components/searchForm/searchForm.vue"],"names":["name","components","wPicker","props","customerType","type","String","default","needSalemanList","Boolean","watch","searchKeyword","newVal","oldVal","length","customerList","customerList_filter","searchKeyword_sale","SalesmanSearch","SalesmanList","saleList_filter","data","currentFilterType","SalesmanItemText","SalesmanItem","SalesmanItemId","isShow","isShowProList","productTypeText","productTypeItem","productType","ct_Desc","endYear","Date","now","format","CustomBar","isShowCustomerList","isShowSearchForm","startDate","subtract","endDate","customerInfo","customerItem","dataType","onReady","methods","filterCustomer","filter","item","includes","filterSaleList","w_Name","handleFilterData","startOf","checkInputData","flag","msg","date1","stringToDate","date2","diff","uni","showToast","title","icon","duration","dateStr","separator","dateArr","split","year","parseInt","month","indexOf","substring","day","date","getSalesmanList","params","w_OptType","getSalesmanList_action","then","res","records","catch","err","loadCustomerList","ct_Type","getQutationCustomerList_action","getSalesmanInfo","val","w_ID","getSelectCustomerInfo","getSelectProtypeInfo","openCustomerList","openSalesmanList","openDateSelect","$refs","DatePicker","show","onConfirmDate","result","comfirmEvent","ct_SalerId","ctCode","ct_ID","$emit","cancelEvent","open","close"],"mappings":"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","file":"components/searchForm/searchForm.js","sourcesContent":["import { render, staticRenderFns } from \"./searchForm.vue?vue&type=template&id=452b77a4&\"\nimport script from \"./searchForm.vue?vue&type=script&lang=js&\"\nexport * from \"./searchForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('452b77a4', component.options)\n    } else {\n      api.reload('452b77a4', component.options)\n    }\n    module.hot.accept(\"./searchForm.vue?vue&type=template&id=452b77a4&\", function () {\n      api.rerender('452b77a4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/cl_vue/erpApp/components/searchForm/searchForm.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./searchForm.vue?vue&type=template&id=452b77a4&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.customerInfo = \"\"\n    }\n\n    _vm.e1 = function($event) {\n      _vm.SalesmanSearch.SalesmanItemText = \"\"\n    }\n\n    _vm.e2 = function($event) {\n      _vm.SalesmanSearch.isShow = false\n    }\n\n    _vm.e3 = function($event) {\n      _vm.isShowCustomerList = false\n    }\n\n    _vm.e4 = function($event) {\n      _vm.isShowProList = false\n    }\n  }\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./searchForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./searchForm.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\n * 搜索框\n * */\n import { getDate, dataDiff } from \"@/libs/tools\";\n import dayjs from 'dayjs'\n import wPicker from \"@/components/w-picker/w-picker.vue\";\n import {mapActions} from 'vuex'\n export default {\n\tname:'searchForm',\n\tcomponents:{wPicker},\n\tprops:{\n\t\t//搜索条件：\n\t\t//ct_Type(客户类型)0:全部,1:纸箱,2:纸板,3:蜂窝 多个逗号分开\n\t\tcustomerType:{\n\t\t\ttype:String,\n\t\t\tdefault:'0'\n\t\t},\n\t\tneedSalemanList:{\n\t\t\ttype:Boolean,\n\t\t\tdefault:false\n\t\t}\n\t},\n\twatch:{\n\t\t//时刻监控字段 \n\t\tsearchKeyword(newVal,oldVal){\n\t\t\tif(newVal.length==0){\n\t\t\t  return this.customerList = this.customerList_filter\n\t\t\t}\n\t\t},\n\t\t//时刻监控字段 \n\t\tsearchKeyword_sale(newVal,oldVal){\n\t\t\tif(newVal.length==0){\n\t\t\t  return this.SalesmanSearch.SalesmanList = this.saleList_filter\n\t\t\t}\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrentFilterType:'',//当前查询类型：周 week 月 month 季 season 是否选择，选中为 primary\n\t\t\tSalesmanSearch:{\n\t\t\t\tSalesmanItemText:'',\n\t\t\t\tSalesmanItem:{},\n\t\t\t\tSalesmanItemId:'',\n\t\t\t\tisShow:false,//是否显示业务员列表\n\t\t\t\tSalesmanList:[],//业务员列表\n\t\t\t},\n\t\t\tisShowProList:false,\n\t\t\tproductTypeText:'纸板',\n\t\t\tproductTypeItem:{},\n\t\t\tproductType:[{type:'1',ct_Desc:'纸板'},{type:'2',ct_Desc:'纸箱'}],//产品类型(1纸板,2纸箱...)\n\t\t\tendYear:dayjs(Date.now()).format('YYYY'),//当前年份\n\t\t\tCustomBar: this.CustomBar, //uni-app :内置属性，bar :高度\n\t\t\tisShowCustomerList:false,//是否显示客户信息列表\n\t\t\tisShowSearchForm:false,//当前是否打开状态\n\t\t\tcustomerList:[],//客户列表\n\t\t\tsearchKeyword:'',//过滤关键字\n\t\t\tsearchKeyword_sale:'',//过滤关键字\n\t\t\tcustomerList_filter:[],//客户列表\n\t\t\tsaleList_filter:[],//业务员列表COPY\n\t\t\tstartDate:dayjs(Date.now()).subtract(1, 'month').format('YYYY-MM-DD'),//开始时间\n\t\t\tendDate:dayjs(Date.now()).format('YYYY-MM-DD'),//结束时间\n\t\t\tcustomerInfo:'',//客户信息\n\t\t\tcustomerItem:{},//客户信息 对象\n\t\t\tdataType:'start',//开始时间:start,结束时间:end\n\t\t\t\n\t\t}\n\t},\n\n\n\n\n\n\n\tonReady() {\n\t\n\t},\n\n\tmethods: {\n\t\t//过滤用户\n\t\tfilterCustomer(){\n\t\t\tif(this.searchKeyword.length>0){\n\t\t\t\tthis.customerList = this.customerList.filter(item=>{\n\t\t\t\t\treturn item.ct_Desc.includes(this.searchKeyword)\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tthis.customerList = this.customerList_filter\n\t\t\t}\n\t\t},\n\t\t//业务员过滤\n\t\tfilterSaleList(){\n\t\t\tif(this.searchKeyword_sale.length>0){\n\t\t\t\tthis.SalesmanSearch.SalesmanList = this.SalesmanSearch.SalesmanList.filter(item=>{\n\t\t\t\t\treturn item.w_Name.includes(this.searchKeyword_sale)\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tthis.SalesmanSearch.SalesmanList = this.saleList_filter\n\t\t\t}\n\t\t},\n\t\t//切換按鈕事件 周 月 季\n\t\thandleFilterData(type){\n\t\t\t//debugger\n\t\t    this.currentFilterType =type\n\t\t    switch(type){\n\t\t      case 'week':\n\t\t        this.startDate =dayjs(Date.now()).startOf('week').format('YYYY-MM-DD')\n\t\t        this.endDate =dayjs(Date.now()).format('YYYY-MM-DD')\n\t\t         break\n\t\t      case 'month':\n\t\t        this.startDate =dayjs(Date.now()).startOf('month').format('YYYY-MM-DD')\n\t\t        this.endDate =dayjs(Date.now()).format('YYYY-MM-DD')\n\t\t        break \n\t\t      case 'season':\n\t\t        this.startDate =dayjs(Date.now()).subtract(3, 'month').format('YYYY-MM-DD')\n\t\t        this.endDate =dayjs(Date.now()).format('YYYY-MM-DD')\n\t\t        break\n\t\t    }\n\t\t},\n\t\t...mapActions(['getSalesmanList_action','getCustomerInfo_action','getQutationCustomerList_action']),\n\t\t//验证两个输入的日期 是否有效\n\t\tcheckInputData() {\n\t\t  let flag = true;\n\t\t  let msg = \"\";\n\t\t  if (this.startDate == \"\" || this.endDate == \"\") {\n\t\t    msg = \"起始/结束日期必填\";\n\t\t    flag = false;\n\t\t  } else if (this.startDate != \"\" || this.endDate != \"\") {\n\t\t    let date1 = this.stringToDate(this.startDate);\n\t\t    let date2 = this.stringToDate(this.endDate);\n\t\t    let diff = dataDiff(\"d\", date1, date2);\n\t\t    if (diff > 730) {\n\t\t      msg = \"时间间隔不能超过2年\";\n\t\t      flag = false;\n\t\t    }\n\t\t    if (diff < 0) {\n\t\t      msg = \"结束日期必须大于起始日期\";\n\t\t      flag = false;\n\t\t    }\n\t\t  }\n\t\t\n\t\t  if (msg != \"\") {\n\t\t    uni.showToast({\n\t\t    \ttitle:msg,\n\t\t\t\ticon:'none',\n\t\t\t\tduration:2000\n\t\t    })\n\t\t  }\n\t\t  return flag;\n\t\t},\n\t\t//字符串转日期\n\t\tstringToDate(dateStr, separator) {\n\t\t  if (!separator) {\n\t\t    separator = \"-\";\n\t\t  }\n\t\t  let dateArr = dateStr.split(separator);\n\t\t  let year = parseInt(dateArr[0]);\n\t\t  let month;\n\t\t  //处理月份为04这样的情况\n\t\t  if (dateArr[1].indexOf(\"0\") == 0) {\n\t\t    month = parseInt(dateArr[1].substring(1));\n\t\t  } else {\n\t\t    month = parseInt(dateArr[1]);\n\t\t  }\n\t\t  let day = parseInt(dateArr[2]);\n\t\t  let date = new Date(year, month - 1, day);\n\t\t  return date;\n\t\t},\n\t\tgetSalesmanList(){\n\t\t\tif(this.SalesmanSearch.SalesmanList.length>0){\n\t\t\t\treturn\n\t\t\t}\n\t\t\t//搜索条件：\n\t\t\t//w_OptType(类型)0:业务员,其它 暂时 没有\n\t\t\tlet params ={\n\t\t\t\tw_OptType: 0\n\t\t\t}\n\t\t\t\n\t\t\tthis.getSalesmanList_action(params).then(res=>{\n\t\t\t\t//debugger\n\t\t\t\tthis.SalesmanSearch.SalesmanList =res.records\n\t\t\t\tthis.saleList_filter = [...this.SalesmanSearch.SalesmanList]\n\t\t\t}).catch(err=>{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:'获取业务员列表失败 err:'+err,\n\t\t\t\t\ticon:'none',\n\t\t\t\t\tduration:2000\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// loadCustomerList(){\n\t\t// \t//debugger\n\t\t// \tif(this.customerList.length>0){\n\t\t// \t\t//debugger\n\t\t// \t\treturn\n\t\t// \t}\n\t\t// \tlet params ={}\n\t\t// \tthis.getCustomerInfo_action(params).then(res=>{\n\t\t// \t\tthis.customerList =res\n\t\t// \t}).catch(err=>{\n\t\t// \t\tuni.showToast({\n\t\t// \t\t\ttitle:'获取客户列表失败 err:'+err,\n\t\t// \t\t\ticon:'none',\n\t\t// \t\t\tduration:2000\n\t\t// \t\t})\n\t\t// \t})\n\t\t// },\n\t\tloadCustomerList(){\n\t\t\tif(this.customerList.length>0){\n\t\t\t\treturn\n\t\t\t}\n\t\t\t//搜索条件：\n\t\t\t//ct_Type(客户类型)0:全部,1:纸箱,2:纸板,3:蜂窝 多个逗号分开\n\t\t\tlet params ={\n\t\t\t\tct_Type:0// this.customerType\n\t\t\t}\n\t\t\t\n\t\t\tthis.getQutationCustomerList_action(params).then(res=>{\n\t\t\t\t//debugger\n\t\t\t\tthis.customerList =res.records\n\t\t\t\tthis.customerList_filter = [...this.customerList] \n\t\t\t}).catch(err=>{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:'获取客户列表失败 err:'+err,\n\t\t\t\t\ticon:'none',\n\t\t\t\t\tduration:2000\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t//获取选择的业务员信息\n\t\tgetSalesmanInfo(val){\n\t\t\tthis.SalesmanSearch.isShow =false\n\t\t\tthis.SalesmanSearch.SalesmanItemText =val.w_Name\n\t\t\tthis.SalesmanSearch.SalesmanItemId =val.w_ID\n\t\t\tthis.SalesmanSearch.SalesmanItem =val\n\t\t},\n\t\t//获取选择的客户信息\n\t\tgetSelectCustomerInfo(val){\n\t\t\tthis.isShowCustomerList =false\n\t\t\tthis.customerInfo = val.ct_Desc\n\t\t\tthis.customerItem =val\n\t\t\t//console.warn('currentItem:'+val.ct_ID)\n\t\t},\n\t\t//获取选择的产品类型信息\n\t\tgetSelectProtypeInfo(val){\n\t\t\tthis.isShowProList =false\n\t\t\tthis.productTypeText = val.ct_Desc\n\t\t\tthis.customerItem =val\n\t\t\t//console.warn('currentItem:'+val.ct_ID)\n\t\t},\n\t\t//打开客户信息\n\t\topenCustomerList(){\n\t\t\tthis.isShowCustomerList =true\n\t\t\tthis.loadCustomerList()\n\t\t},\n\t\t//打开业务员列表\n\t\topenSalesmanList(){\n\t\t\tthis.SalesmanSearch.isShow = true\n\t\t\t this.getSalesmanList()\n\t\t},\n\t\t//弹出时间选择器\n\t\topenDateSelect(type){\n\t\t\tthis.dataType =type\n\t\t\tthis.$refs.DatePicker.show();\n\t\t},\n\t\t//时间确认-回调事件\n\t\tonConfirmDate(val){\n\t\t\t//console.log('date now:'+ JSON.stringify(val))\n\t\t\tif(this.dataType==='start'){\n\t\t\t\tthis.startDate =val.result\n\t\t\t}else{\n\t\t\t\tthis.endDate = val.result\n\t\t\t}\n\t\t},\n\t\t//确认搜索-回调事件\n\t\tcomfirmEvent(){\n\t\t\t//debugger\n\t\t\tif(!this.checkInputData()){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.isShowSearchForm = false\n\t\t\tlet params = {\n\t\t\t  ct_SalerId:this.SalesmanSearch.SalesmanItemId,\n\t\t\t  startDate:this.startDate,\n\t\t\t  endDate:this.endDate,\n\t\t\t  ctCode:this.customerItem.ct_ID === null ?'':this.customerItem.ct_ID\n\t\t\t}\n\t\t\tif(this.customerInfo==''){\n\t\t\t\tparams.ctCode=''\n\t\t\t}\n\t\t\tthis.$emit('comfirmEvent',params)\n\t\t},\n\t\tcancelEvent(){\n\t\t\tthis.isShowSearchForm=false\n\t\t\tthis.$emit('cancelEvent','cancel')\n\t\t},\n\t\t//显示搜索框\n\t\topen(){\n\t\t\tthis.isShowSearchForm = true\n\t\t},\n\t\t//关闭搜索框\n\t\tclose(){\n\t\t\tthis.isShowSearchForm = false\n\t\t}\n\t}\n}\n"],"sourceRoot":""}