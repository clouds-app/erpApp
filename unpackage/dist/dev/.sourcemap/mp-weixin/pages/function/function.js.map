{"version":3,"sources":["webpack:///E:/cl_vue/erpApp/main.js","webpack:///E:/cl_vue/erpApp/pages/function/function.vue?bb1c","webpack:///E:/cl_vue/erpApp/pages/function/function.vue?81e1","webpack:///E:/cl_vue/erpApp/pages/function/function.vue?06e6","webpack:///E:/cl_vue/erpApp/pages/function/function.vue?03fb","webpack:///E:/cl_vue/erpApp/pages/function/function.vue"],"names":["createPage","Page","name","mixins","baseMixin","data","hasUpdate","notify_num","allMenuList","onReady","menuList","_self","uni","$on","eventType","ReLoadData","needToUpdate","updateNotifyNum","methods","navigateTo","_url","url","getNotice","index","length","params","$store","dispatch","then","res","console","log","Number","updateParams","resAuthMark","function","children","Object","assign","catch","err","showToast","title","icon","duration","turnToPage","subIndex","remarkIndex","commit","forEach","item","subItem","resNotice"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,qG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAuF;AAC3B;AACL;;;AAGvD;AAC2J;AAC3J,gBAAgB,wKAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA83B,CAAgB,y4BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkFl5B;AACA;AACA,8E,kiBApFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;eAKe,EACdC,IAAI,EAAC,cADS,EAEdC,MAAM,EAAC,CAACC,eAAD,CAFO,EAGdC,IAHc,kBAGP,CACN,OAAO,EACLC,SAAS,EAAC,KADL,EACW;AAChBC,gBAAU,EAAE,EAFP,EAGFC,WAAW,EAAC,EAHV,CAGa;AAHb,KAAP,CAKA,CATa,EAuBdC,OAvBc,qBAuBH,CACV,KAAKD,WAAL,GAAmB,KAAKE,QAAxB,CACA,IAAIC,KAAK,GAAG,IAAZ,CACAC,GAAG,CAACC,GAAJ,CAAQC,SAAS,CAACC,UAAlB,EAA6B,UAACV,IAAD,EAAQ,CACnC,IAAGA,IAAI,CAACW,YAAR,EAAqB,CACnBL,KAAK,CAACM,eAAN,GACD,CACE,CAJL,EAKA,CA/Ba,EAiCdC,OAAO,EAAE,EACRC,UADQ,sBACGC,IADH,EACQ,CACfR,GAAG,CAACO,UAAJ,CAAe,EAACE,GAAG,EAAED,IAAN,EAAf,EACA,CAHO,EAIR;AACAE,aALQ,qBAKEC,KALF,EAKQH,IALR,EAKa,CACd,IAAGA,IAAI,CAACI,MAAL,GAAY,EAAZ,IAAkB,KAAKlB,SAA1B,EAAoC,CACjC,OACF,CAHa,CAIjB;AACG,UAAImB,MAAM,GAAE,EACRJ,GAAG,EAACD,IADI,EAAZ,CAGA,IAAIT,KAAK,GAAC,IAAV,CACA,KAAKe,MAAL,CAAYC,QAAZ,CAAqB,qBAArB,EAA2CF,MAA3C,EAAmDG,IAAnD,CAAwD,UAAAC,GAAG,EAAE,CAC5DC,OAAO,CAACC,GAAR,CAAY,yBAAuBF,GAAG,CAACxB,IAAvC,EACKM,KAAK,CAACL,SAAN,GAAiB,IAAjB,CAFuD,CAEjC;AACtB,YAAG0B,MAAM,CAACH,GAAG,CAACxB,IAAL,CAAN,GAAiB,CAApB,EAAsB,CACnB,IAAI4B,YAAY,GAAE,EACdC,WAAW,EAACL,GAAG,CAACxB,IADF,EAAlB,CAGJM,KAAK,CAACH,WAAN,CAAkB2B,QAAlB,CAA2B,CAA3B,EAA8BC,QAA9B,CAAuCb,KAAvC,EAA8ClB,IAA9C,GAAqDgC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB3B,KAAK,CAACH,WAAN,CAAkB2B,QAAlB,CAA2B,CAA3B,EAA8BC,QAA9B,CAAuCb,KAAvC,EAA8ClB,IAAhE,EAAsE4B,YAAtE,CAArD,CAJuB,CAKjC;AACS;AAEG,SACN,CAZD,EAYGM,KAZH,CAYS,UAAAC,GAAG,EAAE,CACT7B,KAAK,CAACL,SAAN,GAAiB,IAAjB,CACAM,GAAG,CAAC6B,SAAJ,CAAc,EACbC,KAAK,EAAC,oBAAkBF,GADX,EAEtBG,IAAI,EAAC,MAFiB,EAGtBC,QAAQ,EAAC,IAHa,EAAd,EAKJ,CAnBD,EATc,CA6Bf;AACF,KAnCI,EAqCR;AACAC,cAtCQ,sBAsCGzB,IAtCH,EAsCQ0B,QAtCR,EAsCiB,CACxB;AACA,WAAKC,WAAL,CAAiBD,QAAjB,EACA,QAAQ1B,IAAR,GACC,KAAK,IAAL,CACCR,GAAG,CAACO,UAAJ,CAAe,EACdE,GAAG,EAAE,uCADS,EAAf,EAGA,MACD,KAAK,KAAL,CACCT,GAAG,CAACO,UAAJ,CAAe,EACdE,GAAG,EAAE,yCADS,EAAf,EAGA,MACD,KAAK,UAAL,CACAT,GAAG,CAACO,UAAJ,CAAe,EACdE,GAAG,EAAE,6BADS,EAAf,EAGC,MACD,KAAK,WAAL;AACAT,aAAG,CAACO,UAAJ,CAAe;AACdE,eAAG,EAAE,uCADS,EAAf;;AAGC;AACD,aAAK,SAAL;AACAT,aAAG,CAACO,UAAJ,CAAe;AACdE,eAAG,EAAE,8BADS,EAAf;;AAGA;AACA,aAAK,OAAL;AACAT,aAAG,CAACO,UAAJ,CAAe;AACdE,eAAG,EAAE,0BADS,EAAf;;AAGA;AACA,aAAK,SAAL;AACAT,aAAG,CAACO,UAAJ,CAAe;AACdE,eAAG,EAAE,8BADS,EAAf;;AAGC;AACD;AACIT,aAAG,CAAC6B,SAAJ,CAAc;AACbC,iBAAK,EAAC,iBAAetB,IADR;AAEhBuB,gBAAI,EAAC,MAFW;AAGhBC,oBAAQ,EAAC,IAHO,EAAd;;AAKH,gBA1CF;;AA4CA,KArFO;AAsFR;AACAG,eAvFQ,uBAuFID,QAvFJ,EAuFa;AACpB;AACA,WAAKpB,MAAL,CAAYsB,MAAZ,CAAmB,aAAnB,EAAiCF,QAAjC;AACA,KA1FO;AA2FR;AACA7B,mBA5FQ,6BA4FS;;AAEd,WAAKT,WAAL,CAAiB2B,QAAjB,CAA0Bc,OAA1B,CAAkC,UAACC,IAAD,EAAQ;AACzCA,YAAI,CAACd,QAAL,CAAca,OAAd,CAAsB,UAACE,OAAD,EAASL,QAAT,EAAoB;AAC1C;AACA,eAAI,CAACxC,SAAL,GAAe,KAAf;AACCwB,iBAAO,CAACC,GAAR,CAAY,QAAMoB,OAAO,CAAC9C,IAAR,CAAa+C,SAA/B;AACA,eAAI,CAAC9B,SAAL,CAAewB,QAAf,EAAwBK,OAAO,CAAC9C,IAAR,CAAa+C,SAArC;AACA,SALD;AAMA,OAPD;AAQF,KAtGO,EAjCK,E","file":"pages/function/function.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/function/function.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./function.vue?vue&type=template&id=f8456bb4&\"\nimport script from \"./function.vue?vue&type=script&lang=js&\"\nexport * from \"./function.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('f8456bb4', component.options)\n    } else {\n      api.reload('f8456bb4', component.options)\n    }\n    module.hot.accept(\"./function.vue?vue&type=template&id=f8456bb4&\", function () {\n      api.rerender('f8456bb4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/cl_vue/erpApp/pages/function/function.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./function.vue?vue&type=template&id=f8456bb4&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.allMenuList.function, function(item, index) {\n    var l0 = _vm.__map(item.children, function(subItem, subIndex) {\n      var m0 = _vm.getImgUrl(subItem.data.resIcon)\n      var m1 = _vm.getNotice(subIndex, subItem.data.resNotice)\n      var m2 = Number(subItem.data.resAuthMark)\n      return {\n        $orig: _vm.__get_orig(subItem),\n        m0: m0,\n        m1: m1,\n        m2: m2\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(item),\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./function.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./function.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as eventType from '@/libs/eventBusType'\nimport { mapActions } from 'vuex';\nimport baseMixin from '@/mixins'\nexport default {\n\tname:'functionMenu',\n\tmixins:[baseMixin],\n\tdata() {\n\t\treturn {\n\t\t\t hasUpdate:false,//是否已經更新字段，\n\t\t\t notify_num :88,\n\t\t     allMenuList:[],//功能菜单列表\n\t\t}\n\t},\n\n\n\n\n\n\n\n\n\n\n\n\n\n\tonReady () {\n\t\tthis.allMenuList = this.menuList\n\t\tlet _self = this\n\t\tuni.$on(eventType.ReLoadData,(data)=>{\n\t\t\t\tif(data.needToUpdate){\n\t\t\t\t\t _self.updateNotifyNum()\t\n\t\t\t\t}\n\t\t    })\n\t},\n\n\tmethods: {\n\t\tnavigateTo(_url){\n\t\t\tuni.navigateTo({url: _url})\n\t\t},\n\t\t//獲取通知信息\n\t\tgetNotice(index,_url){\n\t\t       if(_url.length<10 || this.hasUpdate){\n\t\t          return\n\t\t       }\n\t\t\t   //console.log('==getNotice==:'+_url)\n\t\t       let params ={\n\t\t           url:_url\n\t\t       }\n\t\t       let _self=this\n\t\t       this.$store.dispatch('getNoticeInfoAction',params).then(res=>{\n\t\t\t\t      console.log('getNoticeInfoAction:'+res.data)\n\t\t             _self.hasUpdate =true //已經更新\n\t\t             if(Number(res.data)>0){\n\t\t                let updateParams ={\n\t\t                    resAuthMark:res.data\n\t\t                }\n\t\t            _self.allMenuList.function[0].children[index].data = Object.assign({}, _self.allMenuList.function[0].children[index].data, updateParams)\n\t\t\t\t// console.log('==getNotice==json:'+JSON.stringify(_self.allMenuList))\n\t\t           // _self.allMenuList.function= _self.allMenuList.function.sort() //觸發更新\n\t\t          \n\t\t             }\n\t\t       }).catch(err=>{\n\t\t            _self.hasUpdate =true\n\t\t            uni.showToast({\n\t\t            \ttitle:'获取NoticeInfo失败:'+err,\n\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\tduration:2000\n\t\t            })\n\t\t       })\n\t\t      // return '1'\n\t\t   },\n\t\t\n\t\t//跳转到指定页面\n\t\tturnToPage(_url,subIndex){\n\t\t\t//console.log('currentUrl:'+_url)\n\t\t\tthis.remarkIndex(subIndex)\n\t\t\tswitch (_url){\n\t\t\t\tcase 'zx':\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '/pages/verify/boxApproval/boxApproval'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'tax':\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '/pages/verify/bargainPrice/bargainPrice'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'material':\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../verify/material/material'\n\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'purchases':\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../verify/originalPaper/originalPaper'\n\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'paperIn':\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../warehouse/paperIn/paperIn'\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\t\tcase 'boxIn':\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../warehouse/boxIn/boxIn'\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\t\tcase 'paperOB':\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../warehouse/paperOB/paperOB'\n\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t    uni.showToast({\n\t\t\t\t    \ttitle:'找不到指定路径，请确认！'+_url,\n\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\tduration:2000\n\t\t\t\t    })\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t//存储选择功能下表\n\t\tremarkIndex(subIndex){\n\t\t\t//debugger\n\t\t\tthis.$store.commit('setSubIndex',subIndex)\n\t\t},\n\t\t//更新通知个数\n\t\tupdateNotifyNum(){\n\t\t\t\n\t\t   this.allMenuList.function.forEach((item)=>{\n\t\t\t   item.children.forEach((subItem,subIndex)=>{\n\t\t\t\t  // debugger\n\t\t\t\t  this.hasUpdate=false\n\t\t\t\t   console.log('==='+subItem.data.resNotice)\n\t\t\t\t   this.getNotice(subIndex,subItem.data.resNotice)\n\t\t\t   })\n\t\t   })\t\t\t \n\t\t}\n\t\t\n\t}\n}\n"],"sourceRoot":""}