(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-report-deliveryquery-deliveryquery"],{"154b":function(n,t,e){"use strict";var i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",[e("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0},on:{searchEvent:function(t){t=n.$handleEvent(t),n.openSearchEventForm(t)}}},[e("template",{attrs:{slot:"content"},slot:"content"},[n._v("送货查询")]),e("template",{attrs:{slot:"right"},slot:"right"},[n._v("查询")])],2),e("v-uni-view",{staticClass:"bodyContentHeight qiun-columns"},[e("v-uni-view",{staticClass:"qiun-charts"},[e("v-uni-canvas",{staticClass:"charts",attrs:{"canvas-id":"canvasColumn",id:"canvasColumn","disable-scroll":"true"},on:{touchstart:function(t){t=n.$handleEvent(t),n.touchColumn(t)},touchmove:function(t){t=n.$handleEvent(t),n.moveColumn(t)},touchend:function(t){t=n.$handleEvent(t),n.touchEndColumn(t)}}})],1)],1),e("zTable",{attrs:{tableHeight:n.tableHeight,showLoading:!1,emptyText:n.errorContent,tableData:n.dataTableList,columns:n.dataColumns}}),e("searchForm",{ref:"searchForm",on:{comfirmEvent:function(t){t=n.$handleEvent(t),n.searchComfirmEvent(t)}}})],1)},a=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return a})},"2f4e":function(n,t,e){"use strict";e.r(t);var i=e("154b"),a=e("4768");for(var o in a)"default"!==o&&function(n){e.d(t,n,function(){return a[n]})}(o);e("c985");var r=e("2877"),l=Object(r["a"])(a["default"],i["a"],i["b"],!1,null,"27851e4e",null);t["default"]=l.exports},4768:function(n,t,e){"use strict";e.r(t);var i=e("eb97"),a=e.n(i);for(var o in i)"default"!==o&&function(n){e.d(t,n,function(){return i[n]})}(o);t["default"]=a.a},"5eac":function(n,t,e){t=n.exports=e("2350")(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*样式的width和height一定要与定义的cWidth和cHeight相对应*/.qiun-charts[data-v-27851e4e]{width:%?750?%;height:%?500?%;background-color:#fff}.charts[data-v-27851e4e]{width:%?750?%;height:%?500?%;background-color:#fff}",""])},c2d4:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={LineA:{categories:["2012","2013","2014","2015","2016","2017"],series:[{name:"=柱图=",type:"column",data:[35,8,25,37,4,20]},{name:"=折线=",type:"line",data:[70,40,65,100,44,68]}]}};t.default=i},c985:function(n,t,e){"use strict";var i=e("fc3c"),a=e.n(i);a.a},eb97:function(n,t,e){"use strict";var i=e("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("7f7f");var a,o=i(e("db0c")),r=i(e("82a3")),l=i(e("5176")),c=i(e("cebc")),s=i(e("0a0d")),u=i(e("81cc")),h=i(e("dcad")),d=i(e("2bdc")),f=(e("362c"),i(e("717c"))),g=(i(e("c2d4")),e("2f62")),m=i(e("2464")),p=null,v={name:"deliveryquery",mixins:[m.default],components:{searchForm:u.default,zTable:f.default},data:function(){return{errorContent:"数据加载中...",tableHeight:0,cWidth:"",cHeight:"",pixelRatio:1,categories:[],series:[],searchParams:{startDate:(0,h.default)((0,s.default)()).subtract(1,"year").format("YYYY-MM-DD"),endDate:(0,h.default)((0,s.default)()).format("YYYY-MM-DD"),ctCode:""},dataTableList:[],dataColumns:[{key:"ct_ID",title:"客户编号",width:186,titleAlign:"left",columnAlign:"left"},{key:"ct_Name",title:"客户名称",width:186,titleAlign:"left",columnAlign:"left"},{key:"ai_Name",title:"地区",width:186,titleAlign:"left",columnAlign:"left"},{key:"w_Name",title:"业务员",width:186,titleAlign:"left",columnAlign:"left"},{key:"Cube",title:"面积",width:186,titleAlign:"right",columnAlign:"right"},{key:"Area",title:"体积",width:186,titleAlign:"right",columnAlign:"right"},{key:"Weight",title:"重量",width:186,titleAlign:"right",columnAlign:"right"},{key:"pdi_Qty",title:"送货数量",width:186,titleAlign:"right",columnAlign:"right"},{key:"pdi_Money",title:"送货金额",width:186,titleAlign:"right",columnAlign:"right"},{key:"OwnerMoney",title:"本币金额",width:186,titleAlign:"right",columnAlign:"right"},{key:"MoneyRate",title:"金额%",width:186,titleAlign:"right",columnAlign:"right"},{key:"recordMoney",title:"元/款",width:186,titleAlign:"right",columnAlign:"right"}]}},mounted:function(){var n=this;this.getDataSource(),this.getOtherContentHeight(),this.$nextTick(function(){setTimeout(function(){n.tableHeight=n.setTableHeight(!0)},200)})},onLoad:function(n){a=this,this.cWidth=uni.upx2px(750),this.cHeight=uni.upx2px(500)},methods:(0,c.default)({searchComfirmEvent:function(n){this.searchParams=(0,l.default)(this.searchParams,n),null==this.searchParams.ctCode&&(this.searchParams.ctCode=""),this.getDataSource()},openSearchEventForm:function(){this.$refs.searchForm.isShowSearchForm=!0},getEchartData:function(n){this.series=[{name:"送货数量",type:"column",data:[]},{name:"送货金额",type:"line",data:[]}];var t=this.formatDataIntoEchart(n);this.categories=t.map(function(n){return null==n[0]?"-":n[0]}),this.series[0].data=t.map(function(n){return null==n[1]?"-":n[1]}),this.series[1].data=t.map(function(n){return null==n[2]?"-":n[2]}),this.setChartDataConfig()},formatDataIntoEchart:function(n){var t=[];for(var e in n){var i={ct_Name:n[e].ct_Name,pdi_Qty:(0,r.default)(n[e].pdi_Qty),pdi_Money:(0,r.default)(n[e].pdi_Money)},a=(0,o.default)(i);t.push(a)}return t}},(0,g.mapActions)(["getPaperDeliTotal_action"]),{getDataSource:function(){var n=this.searchParams,t=this;this.getPaperDeliTotal_action(n).then(function(n){t.dataTableList=n,t.getEchartData(n),0==t.dataTableList.length&&(t.errorContent="暂无数据")}).catch(function(n){t.errorContent="暂无数据",uni.showToast({title:"获取数据失败:"+n,icon:"none",duration:2e3})})},setChartDataConfig:function(){var n={categories:[],series:[]};n.categories=a.categories,n.series=a.series,a.showColumn("canvasColumn",n)},showColumn:function(n,t){p=new d.default({$this:a,canvasId:n,type:"mix",fontSize:11,padding:[5,15,15,15],legend:{show:!0,position:"top",float:"center",lineHeight:11,itemGap:30,padding:10,margin:5,borderWidth:1},dataLabel:!1,dataPointShape:!0,background:"#FFFFFF",pixelRatio:a.pixelRatio,categories:t.categories,series:t.series,animation:!0,enableScroll:!0,xAxis:{disableGrid:!1,type:"grid",gridType:"dash",itemCount:4,scrollShow:!0,scrollAlign:"left"},yAxis:{data:[{calibration:!0,position:"left",titleFontSize:12}],gridType:"dash",dashLength:4,splitNumber:5},width:a.cWidth*a.pixelRatio,height:a.cHeight*a.pixelRatio,extra:{column:{type:"group",width:a.cWidth*a.pixelRatio*.45/t.categories.length}}})},touchColumn:function(n){p.scrollStart(n)},moveColumn:function(n){p.scroll(n)},touchEndColumn:function(n){p.scrollEnd(n),p.touchLegend(n,{animation:!0}),p.showToolTip(n,{format:function(n,t){return t+" "+n.name+":"+n.data}})}})};t.default=v},fc3c:function(n,t,e){var i=e("5eac");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var a=e("4f06").default;a("3b8ce48c",i,!0,{sourceMap:!1,shadowMode:!1})}}]);