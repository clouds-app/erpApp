(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-verify-boxApproval-boxDetail"],{2464:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("e814"));i("28a5");var s=n(i("7e00")),o={name:"mixin-base",data:function(){return{pageTitle:"",otherHeight:0,leftContentHeight:0}},computed:{menuList:function(){var t=this.$store.getters.menuList_getters;return t}},methods:{getOtherContentHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bodyContentHeight",e=this,i=uni.createSelectorQuery().select("."+t);i.boundingClientRect(function(t){console.log("other Height:"+t.height),e.otherHeight=t.height}).exec()},setTableHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.otherHeight=0);try{var e=uni.getSystemInfoSync();return console.log("windowHeight:"+e.windowHeight),console.log("CustomBar:"+this.CustomBar),console.log("bodyContentHeight:"+this.otherHeight),this.leftContentHeight=e.windowHeight-this.CustomBar-this.otherHeight-10,console.log("tableHeight:"+this.leftContentHeight),this.leftContentHeight}catch(i){}},getImgUrl:function(t){return s.default.baseImgUrl+t},formatData:function(t){return null==t?"":this.stringToDate(t).format("yyyy-MM-dd")},stringToDate:function(t,e){e||(e="-");var i,n=t.split(e),s=(0,a.default)(n[0]);i=0===n[1].indexOf("0")?(0,a.default)(n[1].substring(1)):(0,a.default)(n[1]);var o=(0,a.default)(n[2]),l=new Date(s,i-1,o);return l},checkLogin:function(){var t=uni.getStorageSync("TOKEN");if(console.warn("mixins=check==>Token："+t),null==t||""===t||null==this.menuList||0===this.menuList.length)try{uni.reLaunch({url:"/pages/login/login"})}catch(e){}}},onLoad:function(){this.checkLogin()},mounted:function(){}};e.default=o},"3f1d":function(t,e,i){"use strict";i.r(e);var n=i("c193"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},4792:function(t,e,i){"use strict";var n=i("647b"),a=i.n(n);a.a},"491c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackToPage_Refresh=void 0;var n="BACKTOPAGE_REFRESH";e.BackToPage_Refresh=n},"647b":function(t,e,i){var n=i("cddd");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1ba3f011",n,!0,{sourceMap:!1,shadowMode:!1})},"77f6":function(t,e,i){"use strict";i.r(e);var n=i("a597"),a=i("3f1d");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("4792");var o=i("2877"),l=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"c1c6dbb0",null);e["default"]=l.exports},a597:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0},on:{BackPageEvent:function(e){e=t.$handleEvent(e),t.BackPageEvent(e)}}},[i("template",{attrs:{slot:"content"},slot:"content"},[t._v("纸箱详情")])],2),i("v-uni-view",[i("v-uni-view",{staticClass:"grid-warp"},[i("v-uni-view",{staticClass:"grid-title"},[t._v("纸箱详情")]),i("v-uni-view",{staticClass:"grid-body"},[i("v-uni-view",{staticClass:"grid-flex padding-10"},[i("v-uni-view",[i("v-uni-text",[t._v("客户名称:"+t._s(t.detailItems.bc_CustID_name))])],1)],1),i("v-uni-view",{staticClass:"grid-flex padding-10"},[i("v-uni-view",[i("v-uni-text",[t._v("单号:"+t._s(t.detailItems.bc_No))])],1),i("v-uni-view",[i("v-uni-text",[t._v("日期:"+t._s(t.formatData(t.detailItems.bi_DeDate)))])],1)],1),i("v-uni-view",{staticClass:"grid-flex padding-10"},[i("v-uni-view",[i("v-uni-text",[t._v("纸质:"+t._s(t.detailItems.bp_CArtID))])],1),i("v-uni-view",[i("v-uni-text",[t._v("愣别:"+t._s(t.detailItems.bp_ArtLB))])],1)],1),i("v-uni-view",{staticClass:"grid-flex padding-10"},[i("v-uni-view",[i("v-uni-text",[t._v("纸长:"+t._s(t.detailItems.bp_CSizeL))])],1),i("v-uni-view",[i("v-uni-text",[t._v("纸宽:"+t._s(t.detailItems.bp_CSizeW))])],1)],1),i("v-uni-view",{staticClass:"grid-flex padding-10"},[i("v-uni-view",[i("v-uni-text",[t._v("数量:"+t._s(t.detailItems.bi_OrderQty))])],1)],1),i("v-uni-view",{staticClass:"grid-flex padding-10"},[i("v-uni-view",[i("v-uni-text",[t._v("")])],1),i("v-uni-view",[i("v-uni-text"),i("v-uni-text",{staticClass:"text-price"},[t._v(t._s(t.detailItems.bi_Price))])],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"cu-modal",class:t.idShowModal?"show":""},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content"},[t._v(t._s(t.dialogTitle))]),i("v-uni-view",{staticClass:"action",on:{click:function(e){e=t.$handleEvent(e),t.cancelDialog(e)}}},[i("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),i("v-uni-view",{staticClass:"text-left padding-sm"},[i("v-uni-textarea",{attrs:{maxlength:"60",placeholder:"请输入审批说明..."},on:{input:function(e){e=t.$handleEvent(e),t.textareaAInput(e)}}})],1),i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"cu-btn line-green text-green",on:{click:function(e){e=t.$handleEvent(e),t.cancelDialog(e)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-green margin-left",on:{click:function(e){e=t.$handleEvent(e),t.okDialog(e)}}},[t._v("确定")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"button-group cu-bar bg-white tabbar border shop"},[i("v-uni-view",{staticClass:"btn-group"},[i("v-uni-button",{staticClass:"cu-btn bg-blue round shadow-blur lg",attrs:{disabled:t.btn_disabled},on:{click:function(e){e=t.$handleEvent(e),t.openDialog("resolve")}}},[t._v("同意")]),i("v-uni-button",{staticClass:"cu-btn bg-red round shadow-blur lg",attrs:{disabled:t.btn_disabled},on:{click:function(e){e=t.$handleEvent(e),t.openDialog("reject")}}},[t._v("驳回")])],1)],1)],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},c193:function(t,e,i){"use strict";var n=i("e54b"),a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("cebc")),o=n(i("491c")),l=a(i("2464")),u=i("2f62"),r={name:"boxDetail",mixins:[l.default],components:{},data:function(){return{btn_disabled:!1,dialogTitle:"备注",idShowModal:!1,dataSourceList:[],currentIndex:0,detailItems:{},dialogType:"reject",formItems:{Id:"",approvalExplain:"",approveState:0}}},mounted:function(){this.loadData()},onLoad:function(t){this.currentIndex=t.id},methods:(0,s.default)({BackPageEvent:function(){this.btn_disabled&&uni.$emit(o.BackToPage_Refresh,{itemIndex:this.currentIndex})}},(0,u.mapActions)(["boxDetailApprovalAction"]),{submitContent:function(){var t=this;this.btn_disabled=!1;var e=this.formItems;this.boxDetailApprovalAction(e).then(function(e){uni.showToast({title:"审核成功",duration:2e3}),t.btn_disabled=!0}).catch(function(t){uni.showToast({title:"审核失败 err:"+t,icon:"none",duration:2e3})})},openDialog:function(t){"resolve"===t?(this.dialogTitle="审批说明(同意)",this.formItems.approveState=1):(this.dialogTitle="审批说明(驳回)",this.formItems.approveState=0),this.dialogType=t,this.idShowModal=!0},textareaAInput:function(t){this.formItems.approvalExplain=t.detail.value},okDialog:function(){"reject"===this.dialogType&&""===this.formItems.approvalExplain?(this.idShowModal=!1,uni.showToast({title:"请填写备注内容！",icon:"none",duration:2e3})):(this.submitContent(),this.idShowModal=!1)},cancelDialog:function(){this.idShowModal=!1},loadData:function(){this.dataSourceList=this.$store.getters.boxList_getter,this.detailItems=this.dataSourceList.records[this.currentIndex],null!=this.detailItems&&(this.formItems.Id=this.detailItems.ID1,this.formItems.approvalExplain="")}})};e.default=r},cddd:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".card[data-v-c1c6dbb0]{width:90%;margin-left:5%;border-radius:%?10?%;padding:%?30?%}.grid-title[data-v-c1c6dbb0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.text-price[data-v-c1c6dbb0]{color:#4aecdb;font-size:%?50?%}.button-group[data-v-c1c6dbb0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:fixed;bottom:0;width:100%}",""])},e54b:function(t,e,i){var n=i("268f"),a=i("85f2");function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=a&&n?n(t,i):{};s.get||s.set?a(e,i,s):e[i]=t[i]}return e.default=t,e}t.exports=s}}]);