(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/searchForm/quotationSF"],{8837:function(t,e,n){"use strict";n.r(e);var r=n("ac58"),o=n("e2a6");for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);var s,a=n("f0c5"),c=Object(a["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);e["default"]=c.exports},"9b08":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("5046"),o=s(n("dcad")),i=n("2f62");function s(t){return t&&t.__esModule?t:{default:t}}function a(t){return f(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function f(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(){return Promise.all([n.e("common/vendor"),n.e("components/w-picker/w-picker")]).then(n.bind(null,"46c4"))},d={name:"searchForm",components:{wPicker:m},props:{isBoxArea:{type:Boolean,default:!1},isBoxProduct:{type:Boolean,default:!1}},watch:{searchKeyword:function(t,e){if(0==t.length)return this.customerList=this.customerList_filter}},data:function(){return{bi_ArtID:"",ui_UPName:"",ui_UPNo:"",endYear:(0,o.default)(Date.now()).format("YYYY"),CustomBar:this.CustomBar,isShowCustomerList:!1,isShowSearchForm:!1,customerList:[],searchKeyword:"",customerList_filter:[],startDate:(0,o.default)(Date.now()).subtract(1,"month").format("YYYY-MM-DD"),endDate:(0,o.default)(Date.now()).format("YYYY-MM-DD"),customerInfo:"",customerItem:{},dataType:"start"}},onReady:function(){},methods:h({filterCustomer:function(){var t=this;this.searchKeyword.length>0?this.customerList=this.customerList.filter(function(e){return e.ct_Desc.includes(t.searchKeyword)}):this.customerList=this.customerList_filter}},(0,i.mapActions)(["getQutationCustomerList_action"]),{checkInputData:function(){var e=!0,n="";if(""==this.startDate||""==this.endDate)n="起始/结束日期必填",e=!1;else if(""!=this.startDate||""!=this.endDate){var o=this.stringToDate(this.startDate),i=this.stringToDate(this.endDate),s=(0,r.dataDiff)("d",o,i);s>730&&(n="时间间隔不能超过2年",e=!1),s<0&&(n="结束日期必须大于起始日期",e=!1)}return""!=n&&t.showToast({title:n,icon:"none",duration:2e3}),e},stringToDate:function(t,e){e||(e="-");var n,r=t.split(e),o=parseInt(r[0]);n=0==r[1].indexOf("0")?parseInt(r[1].substring(1)):parseInt(r[1]);var i=parseInt(r[2]),s=new Date(o,n-1,i);return s},loadCustomerList:function(){var e=this;if(!(this.customerList.length>0)){var n={ct_Type:"1"};this.getQutationCustomerList_action(n).then(function(t){e.customerList=t.records,e.customerList_filter=a(e.customerList)}).catch(function(e){t.showToast({title:"获取客户列表失败 err:"+e,icon:"none",duration:2e3})})}},getSelectCustomerInfo:function(t){this.isShowCustomerList=!1,this.customerInfo=t.ct_Desc,this.customerItem=t},openCustomerList:function(){this.isShowCustomerList=!0,this.loadCustomerList()},openDateSelect:function(t){this.dataType=t,this.$refs.DatePicker.show()},onConfirmDate:function(t){"start"===this.dataType?this.startDate=t.result:this.endDate=t.result},comfirmEvent:function(){if(this.checkInputData()){this.isShowSearchForm=!1;var t={bi_ArtID:this.bi_ArtID,ui_UPName:this.ui_UPName,ui_UPNo:this.ui_UPNo,ctCode:null===this.customerItem.ct_ID?"":this.customerItem.ct_ID};""==this.customerInfo&&(t.ctCode=""),this.$emit("comfirmEvent",t)}},cancelEvent:function(){this.isShowSearchForm=!1,this.$emit("cancelEvent","cancel")},open:function(){this.isShowSearchForm=!0},close:function(){this.isShowSearchForm=!1}})};e.default=d}).call(this,n("6e42")["default"])},ac58:function(t,e,n){"use strict";var r,o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.bi_ArtID=""},t.e1=function(e){t.ui_UPNo=""},t.e2=function(e){t.ui_UPName=""},t.e3=function(e){t.isShowCustomerList=!1})},i=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return r})},e2a6:function(t,e,n){"use strict";n.r(e);var r=n("9b08"),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,function(){return r[t]})}(i);e["default"]=o.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/searchForm/quotationSF-create-component',
    {
        'components/searchForm/quotationSF-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('6e42')['createComponent'](__webpack_require__("8837"))
        })
    },
    [['components/searchForm/quotationSF-create-component']]
]);
