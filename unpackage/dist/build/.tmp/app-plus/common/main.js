(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{2489:function(t,e,n){"use strict";(function(t){n("628f"),n("921b");var e=a(n("66fd")),o=a(n("8c18")),r=a(n("6661")),u=a(n("7e00"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default.prototype.$store=r.default,e.default.prototype.$config=u.default;var c=function(){return n.e("colorui/components/cu-custom").then(n.bind(null,"79d2"))};e.default.component("cu-custom",c),e.default.config.productionTip=!1,Date.prototype.format=function(t){if(""==t)return"";var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},o.default.mpType="app";var l=new e.default(s({store:r.default},o.default));t(l).$mount()}).call(this,n("6e42")["createApp"])},"45b0":function(t,e,n){},5833:function(t,e,n){"use strict";var o=n("45b0"),r=n.n(o);r.a},"8c18":function(t,e,n){"use strict";n.r(e);var o=n("be19");for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);n("5833");var u,a,s=n("2877"),i=Object(s["a"])(o["default"],u,a,!1,null,null,null);e["default"]=i.exports},be19:function(t,e,n){"use strict";n.r(e);var o=n("e991"),r=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);e["default"]=r.a},e991:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("a34a")),u=s(n("0a5c")),a=s(n("66fd"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,o,r,u,a){try{var s=t[u](a),i=s.value}catch(c){return void n(c)}s.done?e(i):Promise.resolve(i).then(o,r)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var u=t.apply(e,n);function a(t){i(u,o,r,a,s,"next",t)}function s(t){i(u,o,r,a,s,"throw",t)}a(void 0)})}}var l={data:function(){return{currentVersion:"1.0",downloadProgress:0}},onLaunch:function(){this.getCurrentVersion(),t.getSystemInfo({success:function(t){a.default.prototype.StatusBar=t.statusBarHeight,"android"==t.platform?a.default.prototype.CustomBar=t.statusBarHeight+50:a.default.prototype.CustomBar=t.statusBarHeight+45}})},onShow:function(){console.warn(o("App Show process.env.NODE_ENV：production"," at App.vue:48"))},onHide:function(){console.log(o("App Hide"," at App.vue:54"))},onError:function(t){console.error(o("ERP App onError...:"+t," at App.vue:60"))},methods:{getCurrentVersion:function(){var t=this;plus.runtime.getProperty(plus.runtime.appid,function(e){t.currentVersion=e.version,t.checkVersionUpdate()})},compareVersion:function(t,e){try{var n=Number(t)<Number(e);return console.log(o("=======Number(curV) < Number(reqV)========"+n," at App.vue:116")),n}catch(r){}return!1},showDownloadTips:function(t){},downLoadUpdateFile:function(e){t.showLoading({title:"下载中...请稍等"});var n=t.downloadFile({url:e.path,success:function(e){200===e.statusCode&&(t.hideLoading(),plus.runtime.install(e.tempFilePath,{force:!1},function(){console.log(o("install success..."," at App.vue:149")),plus.runtime.restart()},function(t){console.error(o("install fail..."," at App.vue:155"))}))},complete:function(){}});n.onProgressUpdate(function(e){e.progress>=100&&t.showToast({title:"下载进度:"+e.progress,mask:!1,duration:500})})},checkVersionUpdate:function(){var e=c(r.default.mark(function e(){var n,a,s,i,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="http://pmc.szclsoft.com/update/version.json",e.next=3,u.default.request({"Content-Type":"application/json;charset=UTF-8",url:n,method:"GET"});case 3:a=e.sent,s=this.currentVersion,i=this,a&&a.data&&(console.log(o(JSON.stringify(a)," at App.vue:219")),console.log(o("==plus.os.name=="+plus.os.name," at App.vue:220")),"Android"==plus.os.name&&(a.data.path,console.log(o("==currentVersion=="+s," at App.vue:224")),c=this.compareVersion(s+"",a.data.version+""),console.log(o("==needUpdate=="+c," at App.vue:226")),c&&t.showModal({title:"更新提示",showCancel:!a.data.must,content:a.data.note?a.data.note:"是否选择更新",success:function(t){t.confirm?(console.log(o("确定更新"," at App.vue:235")),i.downLoadUpdateFile(a.data)):t.cancel&&console.log(o("取消更新"," at App.vue:241"))}})));case 7:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}()}};e.default=l}).call(this,n("6e42")["default"],n("0de9")["default"])}},[["2489","common/runtime","common/vendor"]]]);