(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"074d":function(n,t,e){"use strict";var o=function(){var n=this,t=n.$createElement;n._self._c},i=[];e.d(t,"a",function(){return o}),e.d(t,"b",function(){return i})},2518:function(n,t,e){"use strict";var o=e("7ba4"),i=e.n(o);i.a},"3c09":function(n,t,e){"use strict";e.r(t);var o=e("eba5"),i=e.n(o);for(var r in o)"default"!==r&&function(n){e.d(t,n,function(){return o[n]})}(r);t["default"]=i.a},"7ba4":function(n,t,e){},b25b:function(n,t,e){"use strict";e.r(t);var o=e("074d"),i=e("3c09");for(var r in i)"default"!==r&&function(n){e.d(t,n,function(){return i[n]})}(r);e("2518");var a=e("2877"),u=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,null,null);t["default"]=u.exports},d798:function(n,t,e){"use strict";(function(n){e("628f"),e("921b");o(e("66fd"));var t=o(e("b25b"));function o(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("6e42")["createPage"])},eba5:function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(e("2180")),i=e("2f62");function r(n){return n&&n.__esModule?n:{default:n}}function a(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},o=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.forEach(function(t){u(n,t,e[t])})}return n}function u(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var s={data:function(){return{isLoading:!1,disabledLoginBtn:!1,loginForm:{username:"",password:""},currentUUId:"",currentMenuList:[],redirectPage:"index"}},onLoad:function(){},onReady:function(){this.loginForm.username=this.$store.getters.userInfo_getters},methods:a({},(0,i.mapActions)(["getValidatorToken_action","Login_action","getMenuByToken_action"]),{getUUID:function(){var t=this;this.isLoading=!0,this.disabledLoginBtn=!0;var e={userId:this.loginForm.username},o=this;this.getValidatorToken_action(e).then(function(n){o.currentUUId=n.data,o.handleLogin()}).catch(function(e){n.showToast({title:"获取Validator Token失败:"+e,icon:"none",duration:2e3}),t.disabledLoginBtn=!1,t.isLoading=!1})},handleLogin:function(){var t=this;if(""!=this.loginForm.username&&""!=this.loginForm.password){var e=(0,o.default)((0,o.default)(this.loginForm.password+this.currentUUId)+this.currentUUId),i={userId:this.loginForm.username,pwd:e},r=this;this.Login_action(i).then(function(n){var e=n.data.token;t.$store.commit("setLoginToken",e),t.$store.commit("setUserInfo",t.loginForm.username),r.getMenuList(e)}).catch(function(e){n.showToast({title:"登陆失败:"+e,icon:"none",duration:2e3}),t.disabledLoginBtn=!1,t.isLoading=!1})}else n.showToast({title:"用户名和密码必填！！",icon:"none",duration:2e3}),this.disabledLoginBtn=!1,this.isLoading=!1},getMenuList:function(t){var e=this,o={token:t};this.getMenuByToken_action(o).then(function(t){n.switchTab({url:"../index/index"}),e.disabledLoginBtn=!1,e.isLoading=!1}).catch(function(t){e.disabledLoginBtn=!1,e.isLoading=!1,n.showToast({title:"获取菜单失败:"+t,duration:2e3,icon:"none"})})},addNoticeInfoIntoArray:function(n){var t=[];return n.length>0&&(t=n.map(function(n,t,e){if(n.children.length>0){n.children.map(function(n,t,e){return e[t].noticeCount="",e[t]});return e[t].noticeCount="",e[t]}})),t}})};t.default=s}).call(this,e("6e42")["default"])}},[["d798","common/runtime","common/vendor"]]]);