import axios from '@/libs/api.request'
import config from '@/config'
//import Qs from 'qs'
 let apiPath= '/clerp-app-api'  //正式环境

/**
* @description 获取随机码，用于MD5 加密
* @params { userId }
*/
export const getValidatorToken = ({ userId }) => {
	debugger
  //参数
  let data = {
    userId
   }
   
  // if(config.isRunApp){
  //   //apiCloud 参数传递封装，其它另行处理，参考：https://docs.apicloud.com/Client-API/api#3  ajax
  //   data= {values: data} 
  // } 
  return axios.request({
    url: `${apiPath}/user/validatorToken`,
    data,
   method: 'POST',
//     transformRequest: [function (data) {
//       // 对 data 进行任意转换处理 将对象 序列化成URL的形式，以&进行拼接。
//       return Qs.stringify(data) 
// 
//     }],
  })
}

/**
* @description 用户登录
* @params { userId, password }
*/
export const login = ({ userId, pwd },callback) => {
    //参数
    let data = {
      userId,
      pwd
     }
     
   
    return axios.request({
      url: `${apiPath}/user/login`,
      data,
     method: 'POST',
//       transformRequest: [function (data) {
//         // 对 data 进行任意转换处理 将对象 序列化成URL的形式，以&进行拼接。
//         return Qs.stringify(data) 
// 
//       }],
    })
  }


/**
* @description 根据token,获取用户功能菜单
* @params { token } 
*/
export const getMenuByToken = ({ token }) => {
  //参数
  let data = {
    token,
    isLoad:'false',
   }
   
 
  return axios.request({
    url: `${apiPath}/user/resourceInfo`,
    data,
   method: 'POST',
//     transformRequest: [function (data) {
//       // 对 data 进行任意转换处理 将对象 序列化成URL的形式，以&进行拼接。
//       return Qs.stringify(data) 
// 
//     }],
  })
}


/**
* @description 获取过滤选择用户列表
* @params { token } 
*/
export const getCustomerInfo = () => {
 // console.warn('=======getCustomerInfo======'+apiPath)
  //参数
  let data = {
    //token
   }
   
 
  return axios.request({
    url: `${apiPath}/user/customerInfo`,
    data,
   method: 'POST',
//     transformRequest: [function (data) {
//       // 对 data 进行任意转换处理 将对象 序列化成URL的形式，以&进行拼接。
//       return Qs.stringify(data) 
// 
//     }],
  })
}